/* **********************************************************************************
   INTERCRAFT SOLUTIONS INFORMÁTICA LTDA - 2008
   SCRIPT CRIADO EM 22/09/2011 02:42

   IMPORTANTE!!!
   * O SISTEMA LOGARÁ SYSTEM PARA INICIAR A EXECUÇÃO, LOGO, MUITO CUIDADO!
   * CASO O USUÁRIO DO ESQUEMA JÁ EXISTA, ESTE SERÁ ELIMINADO, PORTANTO, TENHA A CERTEZA DAQUILO QUE ESTÁ FAZENDO.
   * ARQUIVO C:\ESEND.LOG REGISTRARÁ O LOG DE EXECUÇÃO, QUE DEVE SER VERIFICADO.
   * CASO BANCO POSSUA ACENTOS, PRECISARÁ GARANTIR FORMATO ANSI ANTES DA EXECUÇÃO. PARA ISSO, EDITE O CONTEÚDO NO NOTEPAD E SALVE FAZENDO OPÇÃO POR ESTE FORMATO.
*/

SET ECHO ON
SET HEADING OFF
SET PAGESIZE 0
SET LINES 10000
SET LINESIZE 10000
SET SERVEROUTPUT ON SIZE 40000
SPOOL C:\ESEND_PARTE1.LOG

-- GARANTINDO QUE TODOS TENHA ACESSO AOS RECURSOS DE PACOTE
CONNECT SYS/XXXX@SBDB AS SYSDBA
GRANT EXECUTE ON SYS.UTL_FILE TO PUBLIC;
GRANT EXECUTE ON SYS.UTL_SMTP TO PUBLIC;
GRANT EXECUTE ON SYS.UTL_TCP TO PUBLIC;
GRANT SELECT ON SYS.V_$SESSION TO PUBLIC;
GRANT QUERY REWRITE TO PUBLIC;
GRANT CREATE MATERIALIZED VIEW TO PUBLIC;
ALTER SESSION SET QUERY_REWRITE_ENABLED = TRUE;

-- ELIMINA OS JOBS
begin
for cur in (select job from user_jobs where schema_user='ESEND') loop
dbms_job.remove(cur.job);
end loop;
end;
/

-- INICIALIZANDO TABLESPACE
ALTER TABLESPACE T_ESEND_DAT OFFLINE;
DROP TABLESPACE T_ESEND_DAT INCLUDING CONTENTS;
CREATE TABLESPACE T_ESEND_DAT DATAFILE 'C:\oracle\product\10.2.0\oradata\SBDB\ESEND.DBF' SIZE 100M REUSE
AUTOEXTEND ON NEXT 50M MAXSIZE UNLIMITED EXTENT MANAGEMENT LOCAL;

-- DEFININDO USUÁRIO DE ESQUEMA
DROP USER ESEND CASCADE;
CREATE USER ESEND IDENTIFIED BY XXXXXX DEFAULT TABLESPACE T_ESEND_DAT;
GRANT DBA TO ESEND;
GRANT SELECT ON DBA_JOBS TO ESEND;
GRANT ALL PRIVILEGES TO ESEND;

-- CONECTANDO COM USUÁRIO DE ESQUEMA
DISCONNECT;
CONNECT ESEND/XXXX@SBDB;

/* **********************************************************************************
   CRIAÇÃO DE TABELAS
*/

-- TABELA COMUNICADO
CREATE TABLE ESEND."COMUNICADO" (
   "SEQ" NUMBER (11,0),
   "TITULO" VARCHAR2 (200),
   "CONTEUDO" CLOB,
   "EDICAO_INICIO" DATE,
   "EDICAO_FIM" DATE,
   "ENVIO_MOMENTO" DATE,
   "ENVIO_SERV_SMTP" VARCHAR2 (100),
   "ENVIO_SMTP_LOGIN" VARCHAR2 (50),
   "ENVIO_SMTP_SENHA" VARCHAR2 (50),
   "ENVIO_INICIO" DATE,
   "ENVIO_PREPARO" DATE,
   "ENVIO_FIM" DATE,
   "RESULT_INICIO" DATE,
   "RESULT_FIM" DATE,
   "RETORNO_SERV_POP3" VARCHAR2 (100),
   "RETORNO_POP3_LOGIN" VARCHAR2 (50),
   "RETORNO_POP3_SENHA" VARCHAR2 (50),
   "REMETENTE" VARCHAR2 (100),
   "ENVIO_TOTAL_DUR" NUMBER (11,0),
   "ENVIO_TOTAL_ITENS" NUMBER (11,0),
   "VINC_IMAGEM" VARCHAR2 (1),
   "PUBLIC_WEB" VARCHAR2 (200),
   "LISTAS_NEP" CLOB,
   "STATUS" VARCHAR2 (20),
   "TIPO_ENVIO" VARCHAR2 (50),
   "RESPOSTA_ATE" DATE,
   "REPLYTO" VARCHAR2 (100),
   "ARQUIVOS_ATTACH" CLOB
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."COMUNICADO" ADD CONSTRAINT "ID_COMUNICADO"
PRIMARY KEY("SEQ");

COMMENT ON TABLE ESEND."COMUNICADO" IS 'ESEND | Cadastro dos comunicados da mala direta de envio pela web. | Comunicado';

COMMENT ON COLUMN ESEND."COMUNICADO"."SEQ" IS 'Sequencial. | Sequencial';
COMMENT ON COLUMN ESEND."COMUNICADO"."TITULO" IS 'Título do comunicado. | Título';
COMMENT ON COLUMN ESEND."COMUNICADO"."CONTEUDO" IS 'Conteúdo do comunicado. | Conteúdo';
COMMENT ON COLUMN ESEND."COMUNICADO"."EDICAO_INICIO" IS 'Momento de início da edição. | Início da Edição';
COMMENT ON COLUMN ESEND."COMUNICADO"."EDICAO_FIM" IS 'Momento de término da edição. | Término da Edição';
COMMENT ON COLUMN ESEND."COMUNICADO"."ENVIO_MOMENTO" IS 'Momento esperado para o envio. | Momento Esperado para Envio';
COMMENT ON COLUMN ESEND."COMUNICADO"."ENVIO_SERV_SMTP" IS 'Endreço do servidor de envio SMTP. | Servidor de Envio';
COMMENT ON COLUMN ESEND."COMUNICADO"."ENVIO_SMTP_LOGIN" IS 'Login utilizado no servidor de envio SMTP. | Login';
COMMENT ON COLUMN ESEND."COMUNICADO"."ENVIO_SMTP_SENHA" IS 'Senha de acesso ao servidor de e-mail. | Senha';
COMMENT ON COLUMN ESEND."COMUNICADO"."ENVIO_INICIO" IS 'Data de início do envio. | Início do Envio';
COMMENT ON COLUMN ESEND."COMUNICADO"."ENVIO_PREPARO" IS 'Data de preparação do comunicado. | Momento da Preparação';
COMMENT ON COLUMN ESEND."COMUNICADO"."ENVIO_FIM" IS 'Data de término do envio. | Término de Envio';
COMMENT ON COLUMN ESEND."COMUNICADO"."RESULT_INICIO" IS 'Data de início do resultado. | Início do Tratamento de Retorno';
COMMENT ON COLUMN ESEND."COMUNICADO"."RESULT_FIM" IS 'Data de término do resultado. | Término do Tratamento de Retorno';
COMMENT ON COLUMN ESEND."COMUNICADO"."RETORNO_SERV_POP3" IS 'IP do servidor de recebimento. | Servidor de Recebimento';
COMMENT ON COLUMN ESEND."COMUNICADO"."RETORNO_POP3_LOGIN" IS 'Login de acesso ao servidor de envio. | Login de Recebimento';
COMMENT ON COLUMN ESEND."COMUNICADO"."RETORNO_POP3_SENHA" IS 'Senha de acesso ao servidor de envio. | Senha de Recebimento';
COMMENT ON COLUMN ESEND."COMUNICADO"."REMETENTE" IS 'Nome do remetente. | Remetente';
COMMENT ON COLUMN ESEND."COMUNICADO"."ENVIO_TOTAL_DUR" IS 'Tempo de duração. | Duração de Envio (min)';
COMMENT ON COLUMN ESEND."COMUNICADO"."ENVIO_TOTAL_ITENS" IS 'Total dos itens. | Total de Itens Enviados';
COMMENT ON COLUMN ESEND."COMUNICADO"."VINC_IMAGEM" IS 'Vincular imagem. | Vincular Imagem';
COMMENT ON COLUMN ESEND."COMUNICADO"."PUBLIC_WEB" IS 'Publicação na web. | Publicação na Web';
COMMENT ON COLUMN ESEND."COMUNICADO"."LISTAS_NEP" IS 'Lista negra. | Lista de Não Enviar Para';
COMMENT ON COLUMN ESEND."COMUNICADO"."STATUS" IS 'Status de envio. | Status';
COMMENT ON COLUMN ESEND."COMUNICADO"."TIPO_ENVIO" IS 'Tipo de envio. | Tipo de Envio';
COMMENT ON COLUMN ESEND."COMUNICADO"."RESPOSTA_ATE" IS 'Data limite para resposta. | Data Limite para Resposta';
COMMENT ON COLUMN ESEND."COMUNICADO"."REPLYTO" IS 'Enviar cópia. | Endereço de Reply';
COMMENT ON COLUMN ESEND."COMUNICADO"."ARQUIVOS_ATTACH" IS 'Anexar arquivo. | Arquivos Anexos';
COMMENT ON COLUMN ESEND."COMUNICADO".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."COMUNICADO".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."COMUNICADO".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."COMUNICADO".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."COMUNICADO".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."COMUNICADO".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."COMUNICADO".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA COMUNICADO_CONTR
CREATE TABLE ESEND."COMUNICADO_CONTR" (
   "COMUNICADO_SEQ" NUMBER (11,0),
   "SEQ" NUMBER (11,0),
   "DESCR" CLOB
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."COMUNICADO_CONTR" ADD CONSTRAINT "ID_COMUNICADO_CONTR"
PRIMARY KEY("COMUNICADO_SEQ", "SEQ");

COMMENT ON TABLE ESEND."COMUNICADO_CONTR" IS 'ESEND | Lista de controle para comunicado. | Controle do Comunicado';

COMMENT ON COLUMN ESEND."COMUNICADO_CONTR"."COMUNICADO_SEQ" IS 'Comunicado. | Comunicado';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR"."SEQ" IS 'Sequencial. | Sequencial';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR"."DESCR" IS 'Descrição. | Descrição';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA COMUNICADO_CONTR_EMAIL
CREATE TABLE ESEND."COMUNICADO_CONTR_EMAIL" (
   "COMUNICADO_SEQ" NUMBER (11,0),
   "CONTROLE_SEQ" NUMBER (11,0),
   "EMAIL" VARCHAR2 (100),
   "DOMINIO" VARCHAR2 (50),
   "ENVIO" DATE,
   "RESPOSTA" VARCHAR2 (2000),
   "ORDEM" NUMBER (11,0),
   "SEQ" NUMBER (11,0),
   "RETENTA" NUMBER (11,0),
   "RESPOSTA_EM" DATE
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."COMUNICADO_CONTR_EMAIL" ADD CONSTRAINT "ID_COMUNICADO_CONTR_EMAIL"
PRIMARY KEY("COMUNICADO_SEQ", "CONTROLE_SEQ", "EMAIL", "SEQ");

COMMENT ON TABLE ESEND."COMUNICADO_CONTR_EMAIL" IS 'ESEND | E-mails de lista de controle para comunicado. | Lista de Controle do Comunicado';

COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL"."COMUNICADO_SEQ" IS 'Comunicado. | Comunicado';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL"."CONTROLE_SEQ" IS 'Controle. | Controle';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL"."EMAIL" IS 'E-mail. | E-mail';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL"."DOMINIO" IS 'Domínio do e-mail. | Domínio do E-mail';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL"."ENVIO" IS 'Data de envio. | Data de Envio';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL"."RESPOSTA" IS 'Resposta. | Resposta';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL"."ORDEM" IS 'Ordenação. | Ordenação';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL"."SEQ" IS 'Sequencial. | Sequencial';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL"."RETENTA" IS 'Retentar. | Retentar';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL"."RESPOSTA_EM" IS 'Data da resposta. | Data da Resposta';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."COMUNICADO_CONTR_EMAIL".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA COMUNICADO_DEST
CREATE TABLE ESEND."COMUNICADO_DEST" (
   "COMUNICADO_SEQ" NUMBER (11,0),
   "SEQ" NUMBER (11,0),
   "EMAIL" CLOB,
   "CONTATO_SEQ" NUMBER (11,0),
   "LISTA_SEQ" NUMBER (11,0)
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."COMUNICADO_DEST" ADD CONSTRAINT "ID_COMUNICADO_DEST"
PRIMARY KEY("COMUNICADO_SEQ", "SEQ");

COMMENT ON TABLE ESEND."COMUNICADO_DEST" IS 'ESEND | Destinos desejados para envio do comunicado. | Destinatário do Comunicado';

COMMENT ON COLUMN ESEND."COMUNICADO_DEST"."COMUNICADO_SEQ" IS 'Comunicado. | Comunicado';
COMMENT ON COLUMN ESEND."COMUNICADO_DEST"."SEQ" IS 'Sequencial. | Sequencial';
COMMENT ON COLUMN ESEND."COMUNICADO_DEST"."EMAIL" IS 'E-mail. | E-mail';
COMMENT ON COLUMN ESEND."COMUNICADO_DEST"."CONTATO_SEQ" IS 'Comunicado. | Comunicado';
COMMENT ON COLUMN ESEND."COMUNICADO_DEST"."LISTA_SEQ" IS 'Lista. | Lista';
COMMENT ON COLUMN ESEND."COMUNICADO_DEST".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."COMUNICADO_DEST".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."COMUNICADO_DEST".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."COMUNICADO_DEST".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."COMUNICADO_DEST".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."COMUNICADO_DEST".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."COMUNICADO_DEST".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA CONTATO
CREATE TABLE ESEND."CONTATO" (
   "SEQ" NUMBER (11,0),
   "NOME" VARCHAR2 (200),
   "EMAIL" CLOB,
   "EMPRESA_SEQ" NUMBER (11,0),
   "ENDERECO" VARCHAR2 (40),
   "BAIRRO" VARCHAR2 (20),
   "CIDADE" VARCHAR2 (15),
   "ESTADO" VARCHAR2 (2),
   "CEP" VARCHAR2 (9),
   "JURIDICA" NUMBER (11,0),
   "OBS" CLOB
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."CONTATO" ADD CONSTRAINT "ID_CONTATO"
PRIMARY KEY("SEQ");

COMMENT ON TABLE ESEND."CONTATO" IS 'ESEND | Lista de contatos relacionados para receber email. | Contato';

COMMENT ON COLUMN ESEND."CONTATO"."SEQ" IS 'Sequencial. | Sequencial';
COMMENT ON COLUMN ESEND."CONTATO"."NOME" IS 'Nome. | Nome';
COMMENT ON COLUMN ESEND."CONTATO"."EMAIL" IS 'E-mail. | E-mail';
COMMENT ON COLUMN ESEND."CONTATO"."EMPRESA_SEQ" IS 'Empresa. | Empresa';
COMMENT ON COLUMN ESEND."CONTATO"."ENDERECO" IS 'Endereço completo, tipo (rua, av.), logradouro e número. | Endereço Completo';
COMMENT ON COLUMN ESEND."CONTATO"."BAIRRO" IS 'Bairro. | Bairro';
COMMENT ON COLUMN ESEND."CONTATO"."CIDADE" IS 'Cidade. | Cidade';
COMMENT ON COLUMN ESEND."CONTATO"."ESTADO" IS 'Estado. | Estado';
COMMENT ON COLUMN ESEND."CONTATO"."CEP" IS 'CEP designado para o logradouro. | CEP';
COMMENT ON COLUMN ESEND."CONTATO"."JURIDICA" IS 'Jurídica. | Jurídica';
COMMENT ON COLUMN ESEND."CONTATO"."OBS" IS 'Observação. | Observação';
COMMENT ON COLUMN ESEND."CONTATO".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."CONTATO".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."CONTATO".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."CONTATO".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."CONTATO".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."CONTATO".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."CONTATO".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA CONTATO_TEL
CREATE TABLE ESEND."CONTATO_TEL" (
   "CONTATO_SEQ" NUMBER (11,0),
   "TEL" VARCHAR2 (50),
   "DESCR" VARCHAR2 (200),
   "CLASSE_TEL" VARCHAR2 (30)
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."CONTATO_TEL" ADD CONSTRAINT "ID_CONTATO_TEL"
PRIMARY KEY("CONTATO_SEQ", "TEL");

COMMENT ON TABLE ESEND."CONTATO_TEL" IS 'ESEND | Registro de telefone para contatos. | Telefone de Contato';

COMMENT ON COLUMN ESEND."CONTATO_TEL"."CONTATO_SEQ" IS 'Contato. | Contato';
COMMENT ON COLUMN ESEND."CONTATO_TEL"."TEL" IS 'Telefone. | Telefone';
COMMENT ON COLUMN ESEND."CONTATO_TEL"."DESCR" IS 'Descrição. | Descrição';
COMMENT ON COLUMN ESEND."CONTATO_TEL"."CLASSE_TEL" IS 'Classificação do telefone. | Classificação do Telefone';
COMMENT ON COLUMN ESEND."CONTATO_TEL".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."CONTATO_TEL".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."CONTATO_TEL".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."CONTATO_TEL".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."CONTATO_TEL".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."CONTATO_TEL".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."CONTATO_TEL".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA LISTA
CREATE TABLE ESEND."LISTA" (
   "SEQ" NUMBER (11,0),
   "NOME" VARCHAR2 (200),
   "TIPO_LISTA_COD" VARCHAR2 (30),
   "CRIT_AUTO" CLOB
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."LISTA" ADD CONSTRAINT "ID_LISTA"
PRIMARY KEY("SEQ");

COMMENT ON TABLE ESEND."LISTA" IS 'ESEND | Listas cadastradas para envio de email. | Lista';

COMMENT ON COLUMN ESEND."LISTA"."SEQ" IS 'Sequencial. | Sequencial';
COMMENT ON COLUMN ESEND."LISTA"."NOME" IS 'Nome. | Nome';
COMMENT ON COLUMN ESEND."LISTA"."TIPO_LISTA_COD" IS 'Tipo de lista. | Tipo de Lista';
COMMENT ON COLUMN ESEND."LISTA"."CRIT_AUTO" IS 'Critério. | Critério';
COMMENT ON COLUMN ESEND."LISTA".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."LISTA".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."LISTA".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."LISTA".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."LISTA".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."LISTA".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."LISTA".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA LISTA_CONTATO
CREATE TABLE ESEND."LISTA_CONTATO" (
   "LISTA_SEQ" NUMBER (11,0),
   "SEQ" NUMBER (11,0),
   "CONTATO_SEQ" NUMBER (11,0),
   "EMAIL" CLOB
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."LISTA_CONTATO" ADD CONSTRAINT "ID_LISTA_CONTATO"
PRIMARY KEY("LISTA_SEQ", "SEQ");

COMMENT ON TABLE ESEND."LISTA_CONTATO" IS 'ESEND | Contatos incluídos em listas. | Lista de Contato';

COMMENT ON COLUMN ESEND."LISTA_CONTATO"."LISTA_SEQ" IS 'Lista. | Lista';
COMMENT ON COLUMN ESEND."LISTA_CONTATO"."SEQ" IS 'Sequencial. | Sequencial';
COMMENT ON COLUMN ESEND."LISTA_CONTATO"."CONTATO_SEQ" IS 'Contato. | Contato';
COMMENT ON COLUMN ESEND."LISTA_CONTATO"."EMAIL" IS 'E-mail. | E-mail';
COMMENT ON COLUMN ESEND."LISTA_CONTATO".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."LISTA_CONTATO".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."LISTA_CONTATO".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."LISTA_CONTATO".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."LISTA_CONTATO".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."LISTA_CONTATO".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."LISTA_CONTATO".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA SYS_CONFIG_GLOBAL
CREATE TABLE ESEND."SYS_CONFIG_GLOBAL" (
   "PARAM" VARCHAR2 (200),
   "DESCR" VARCHAR2 (4000),
   "CONFIG" CLOB,
   "PROP_EXTEND" CLOB,
   "FORMATO" VARCHAR2 (100)
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."SYS_CONFIG_GLOBAL" ADD CONSTRAINT "ID_SYS_CONFIG_GLOBAL"
PRIMARY KEY("PARAM");

COMMENT ON TABLE ESEND."SYS_CONFIG_GLOBAL" IS 'Sistema | Armazena parâmetros globais do aplicativo. | Configuração Global';

COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL"."PARAM" IS 'Parametro. | Parâmetro';
COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL"."DESCR" IS 'Descrição. | Descrição';
COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL"."CONFIG" IS 'Configuração. | Configuração';
COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL"."PROP_EXTEND" IS 'Propriedades extendidas para configuração. | Propriedades';
COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL"."FORMATO" IS 'Formato de apresentação do campo MEMO, HTML ou vazio para texto comum. | Formato';
COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."SYS_CONFIG_GLOBAL".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA SYS_CONFIG_USUARIO
CREATE TABLE ESEND."SYS_CONFIG_USUARIO" (
   "USUARIO" VARCHAR2 (100),
   "PARAM" VARCHAR2 (200),
   "DESCR" VARCHAR2 (4000),
   "CONFIG" VARCHAR2 (4000)
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."SYS_CONFIG_USUARIO" ADD CONSTRAINT "ID_SYS_CONFIG_USUARIO"
PRIMARY KEY("USUARIO", "PARAM");

COMMENT ON TABLE ESEND."SYS_CONFIG_USUARIO" IS 'Sistema | Parâmetros específicos de usuários do sistema. | Configuração de Usuário';

COMMENT ON COLUMN ESEND."SYS_CONFIG_USUARIO"."USUARIO" IS 'Usuário. | Usuário';
COMMENT ON COLUMN ESEND."SYS_CONFIG_USUARIO"."PARAM" IS 'Parametro. | Parâmetro';
COMMENT ON COLUMN ESEND."SYS_CONFIG_USUARIO"."DESCR" IS 'Descrição. | Descrição';
COMMENT ON COLUMN ESEND."SYS_CONFIG_USUARIO"."CONFIG" IS 'Configuração. | Configuração';
COMMENT ON COLUMN ESEND."SYS_CONFIG_USUARIO".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."SYS_CONFIG_USUARIO".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."SYS_CONFIG_USUARIO".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."SYS_CONFIG_USUARIO".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."SYS_CONFIG_USUARIO".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."SYS_CONFIG_USUARIO".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."SYS_CONFIG_USUARIO".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA SYS_DELETE
CREATE TABLE ESEND."SYS_DELETE" (
   "TABELA" VARCHAR2 (70),
   "CHAVE" VARCHAR2 (300),
   "MOMENTO" DATE,
   "USUARIO" VARCHAR2 (100),
   "LOCAL" VARCHAR2 (20)
);

ALTER TABLE ESEND."SYS_DELETE" ADD CONSTRAINT "ID_SYS_DELETE"
PRIMARY KEY("TABELA", "CHAVE");

COMMENT ON TABLE ESEND."SYS_DELETE" IS 'Sistema | Registro de exclusões do sistema. | Registro de Exclusões';

COMMENT ON COLUMN ESEND."SYS_DELETE"."TABELA" IS 'Nome da tabela onde a exclusão ocorreu. | Tabela';
COMMENT ON COLUMN ESEND."SYS_DELETE"."CHAVE" IS 'Conteúdo da chave do registro excluído. | Chave';
COMMENT ON COLUMN ESEND."SYS_DELETE"."MOMENTO" IS 'Momento em que ocorreu a exclusão. | Momento de Exclusão';
COMMENT ON COLUMN ESEND."SYS_DELETE"."USUARIO" IS 'Detalhes do usuário que efetuou a exclusão. | Usuário';
COMMENT ON COLUMN ESEND."SYS_DELETE"."LOCAL" IS 'De onde partiu a exclusão. | Local';

-- TABELA SYS_LOCALID
CREATE TABLE ESEND."SYS_LOCALID" (
   "NOME" VARCHAR2 (20),
   "CORRENTE" NUMBER (1,0),
   "PACOTE" NUMBER (11,0),
   "PACOTE_REC" NUMBER (11,0),
   "MOMENTO" DATE,
   "MOMENTO_REC" DATE,
   "MODELO" NUMBER (11,0),
   "DESCR" VARCHAR2 (50),
   "OBS" VARCHAR2 (4000)
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."SYS_LOCALID" ADD CONSTRAINT "ID_SYS_LOCALID"
PRIMARY KEY("NOME");

COMMENT ON TABLE ESEND."SYS_LOCALID" IS 'Sistema | Especificações de localidade para sistema distribuído. | Detalhes de Localidade';

COMMENT ON COLUMN ESEND."SYS_LOCALID"."NOME" IS 'Nome em caso de sistema distribuído. | Nome';
COMMENT ON COLUMN ESEND."SYS_LOCALID"."CORRENTE" IS 'Marcado caso seja localidade corrente. | Corrente';
COMMENT ON COLUMN ESEND."SYS_LOCALID"."PACOTE" IS 'Número do último pacote gerado. | Pacote Gerado';
COMMENT ON COLUMN ESEND."SYS_LOCALID"."PACOTE_REC" IS 'Número do último pacote recebido. | Pacote Recebido';
COMMENT ON COLUMN ESEND."SYS_LOCALID"."MOMENTO" IS 'Momento do último pacote gerado. | Momento de Geração';
COMMENT ON COLUMN ESEND."SYS_LOCALID"."MOMENTO_REC" IS 'Momento do último pacote recebido. | Momento de Recebimento';
COMMENT ON COLUMN ESEND."SYS_LOCALID"."MODELO" IS 'Modelo. | Modelo';
COMMENT ON COLUMN ESEND."SYS_LOCALID"."DESCR" IS 'Descrição de localidade, responsabilidade ou qualquer texto que informe sobre a localidade. | Descrição';
COMMENT ON COLUMN ESEND."SYS_LOCALID"."OBS" IS 'Observações sobre a localidade. | Observações';
COMMENT ON COLUMN ESEND."SYS_LOCALID".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."SYS_LOCALID".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."SYS_LOCALID".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."SYS_LOCALID".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."SYS_LOCALID".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."SYS_LOCALID".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."SYS_LOCALID".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA SYS_OCORRENCIA
CREATE TABLE ESEND."SYS_OCORRENCIA" (
   "SEQ" NUMBER (11,0),
   "APLICACAO" VARCHAR2 (4000),
   "OCORRENCIA" VARCHAR2 (4000),
   "USUARIO" VARCHAR2 (100),
   "MOMENTO" DATE,
   "LOCAL" VARCHAR2 (20)
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."SYS_OCORRENCIA" ADD CONSTRAINT "ID_SYS_OCORRENCIA"
PRIMARY KEY("SEQ");

COMMENT ON TABLE ESEND."SYS_OCORRENCIA" IS 'Sistema | Registro de ocorrências do sistema. | Registro de Ocorrências';

COMMENT ON COLUMN ESEND."SYS_OCORRENCIA"."SEQ" IS 'Sequencial da ocorrência. | Sequencial';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA"."APLICACAO" IS 'Nome do aplicativo onde ocorreu o registro. | Aplicação';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA"."OCORRENCIA" IS 'Detalhes da ocorrência. | Ocorrência';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA"."USUARIO" IS 'Usuário logado no momento da ocorrência. | Usuário';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA"."MOMENTO" IS 'Momento em que ocorreu a situação. | Momento';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA"."LOCAL" IS 'Local onde ocorreu o registro. | Localidade';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."SYS_OCORRENCIA".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA TEMPL_COMUNICADO
CREATE TABLE ESEND."TEMPL_COMUNICADO" (
   "COD" VARCHAR2 (30),
   "CONTEUDO" CLOB
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."TEMPL_COMUNICADO" ADD CONSTRAINT "ID_TEMPL_COMUNICADO"
PRIMARY KEY("COD");

COMMENT ON TABLE ESEND."TEMPL_COMUNICADO" IS 'ESEND | Template de comunicado, tabela utilizada para iniciar conteúdo de novos comunicados. | Template do Cominicado';

COMMENT ON COLUMN ESEND."TEMPL_COMUNICADO"."COD" IS 'Nome da template. | Nome';
COMMENT ON COLUMN ESEND."TEMPL_COMUNICADO"."CONTEUDO" IS 'Conteúdo do comunicado. | Conteúdo';
COMMENT ON COLUMN ESEND."TEMPL_COMUNICADO".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."TEMPL_COMUNICADO".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."TEMPL_COMUNICADO".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."TEMPL_COMUNICADO".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."TEMPL_COMUNICADO".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."TEMPL_COMUNICADO".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."TEMPL_COMUNICADO".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

-- TABELA TIPO_LISTA
CREATE TABLE ESEND."TIPO_LISTA" (
   "COD" VARCHAR2 (30),
   "DESCR" VARCHAR2 (200)
,
   SYS_MOMENTO_CRIA DATE,
   SYS_USUARIO_CRIA VARCHAR2 (100),
   SYS_LOCAL_CRIA VARCHAR2 (100),
   SYS_MOMENTO_ATUALIZA DATE,
   SYS_USUARIO_ATUALIZA VARCHAR2 (100),
   SYS_LOCAL_ATUALIZA VARCHAR2 (100),
   SYS_STATUS CHAR (1)
);

ALTER TABLE ESEND."TIPO_LISTA" ADD CONSTRAINT "ID_TIPO_LISTA"
PRIMARY KEY("COD");

COMMENT ON TABLE ESEND."TIPO_LISTA" IS 'ESEND | Classificação da lista sendo obrigatório o tipo testes e nunca enviar para. | Tipo da Lista';

COMMENT ON COLUMN ESEND."TIPO_LISTA"."COD" IS 'Sequencial. | Sequencial';
COMMENT ON COLUMN ESEND."TIPO_LISTA"."DESCR" IS 'Descrição. | Descrição';
COMMENT ON COLUMN ESEND."TIPO_LISTA".SYS_MOMENTO_CRIA IS 'Registra momento de gravação. | Momento de Criação';
COMMENT ON COLUMN ESEND."TIPO_LISTA".SYS_USUARIO_CRIA IS 'Registra usuário que gravou. | Usuário que Criou';
COMMENT ON COLUMN ESEND."TIPO_LISTA".SYS_LOCAL_CRIA IS 'Registra local de gravação. | Local de Criação';
COMMENT ON COLUMN ESEND."TIPO_LISTA".SYS_MOMENTO_ATUALIZA IS 'Registra momento de atualização. | Momento de Atualização';
COMMENT ON COLUMN ESEND."TIPO_LISTA".SYS_USUARIO_ATUALIZA IS 'Registra usuário que atualizou. | Usuário que Alterou';
COMMENT ON COLUMN ESEND."TIPO_LISTA".SYS_LOCAL_ATUALIZA IS 'Registra local de atualização. | Local de Alteração';
COMMENT ON COLUMN ESEND."TIPO_LISTA".SYS_STATUS IS 'Status do registro entre I=Incluído, A=Alterado ou Vazio=Sem modificação. | Status do Registro';

/* **********************************************************************************
   CRIAÇÃO DE TABELAS DO SISTEMA
*/


-- TABELA DE SISTEMA - GRANTS GERAIS
GRANT SELECT ON ESEND.SYS_CONFIG_GLOBAL TO PUBLIC;
GRANT SELECT ON ESEND.SYS_CONFIG_USUARIO TO PUBLIC;
GRANT SELECT ON ESEND.SYS_DELETE TO PUBLIC;
GRANT SELECT ON ESEND.SYS_LOCALID TO PUBLIC;
GRANT SELECT ON ESEND.SYS_OCORRENCIA TO PUBLIC;
SPOOL OFF


-- EXEMPLO PARA IMPORT DE INFORMAÇÕES E 
-- CÓDIGO PARA ELIMINAR OBJETOS IMPORTADOS EQUIVOCADAMENTE

SET SERVEROUTPUT ON SIZE 40000
SET ECHO OFF
SELECT
'EXP ESEND/XXXX@SBDB OWNER=(ESEND) FILE=ESEND.DMP LOG=ESEND_EXP.LOG' || CHR(13) || CHR(10) ||
'IMP ESEND/XXXX@SBDB FROMUSER=ESEND CONSTRAINTS=NO GRANTS=NO FILE=ESEND.DMP LOG=ESEND_IMP.LOG IGNORE=YES' || CHR(13) || CHR(10) ||
'' || CHR(13) || CHR(10) ||
'' || CHR(13) || CHR(10) ||
'DECLARE' || CHR(13) || CHR(10) ||
'    MAX NUMBER := ' || MAX(OBJECT_ID) || ';' || CHR(13) || CHR(10) ||
'BEGIN' || CHR(13) || CHR(10) ||
' FOR CUR IN (SELECT ''DROP '' || OBJECT_TYPE || '' '' || OWNER || ''.'' || OBJECT_NAME ' || CHR(13) || CHR(10) ||
' AS COL FROM ALL_OBJECTS WHERE OBJECT_ID > MAX) LOOP' || CHR(13) || CHR(10) ||
'  DBMS_OUTPUT.PUT(CUR.COL);' || CHR(13) || CHR(10) ||
'  BEGIN' || CHR(13) || CHR(10) ||
'   EXECUTE IMMEDIATE CUR.COL;' || CHR(13) || CHR(10) ||
'   DBMS_OUTPUT.PUT_LINE('' ==> OK'');' || CHR(13) || CHR(10) ||
'  EXCEPTION WHEN OTHERS THEN' || CHR(13) || CHR(10) ||
'   DBMS_OUTPUT.PUT_LINE('' ==> '' || SQLERRM);' || CHR(13) || CHR(10) ||
'  END;' || CHR(13) || CHR(10) ||
' END LOOP;' || CHR(13) || CHR(10) ||
'END;' || CHR(13) || CHR(10) ||
'/' || CHR(13) || CHR(10) ||
'' || CHR(13) || CHR(10) ||
'' || CHR(13) || CHR(10) FROM ALL_OBJECTS
/



SPOOL OFF
$ECHO - >>"C:\ESEND_PARTES.LOG"
$ECHO - >>"C:\ESEND_PARTES.LOG"
$ECHO - >>"C:\ESEND_PARTES.LOG"
$COMMAND /C ECHO %DATE% %TIME% >>"C:\ESEND_PARTES.LOG"
$COMMAND /C FIND "ORA-" "C:\ESEND_PARTE1.LOG" >>"C:\ESEND_PARTES.LOG"
$COMMAND /C FIND "SP2-" "C:\ESEND_PARTE1.LOG" >>"C:\ESEND_PARTES.LOG"
